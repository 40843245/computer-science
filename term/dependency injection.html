<!DOCTYPE html5>
<html>
<style>
    #GOOD { 
        color:green;
    }

    #BAD {
        color:red;
    }
    
</style>
    
<body>
    
<h1>Dependency injection</h1> 
<h2>Intro</h2>
Dependency injection refers a mechanism that initialize the an object in constructor with given parameters. <br>

<h2>Example</h2>
<h3>Example 1</h3>
Take the example from Android Studio Docs. ([2] in Ref section) <br>

A car must have an engine. <br>

The following code illustrates the use of dependency injection. <br>

<p id="GOOD">GOOD</p>

<br>
<br>
    
<pre>
<code>
    
    class Car {
    
        private Engine engine;
    
        public void setEngine(Engine engine) {
            this.engine = engine;
        }
    
        public void start() {
            engine.start();
        }
    }
    
    class MyApp {
        public static void main(String[] args) {
            Car car = new Car();
            car.setEngine(new Engine());
            car.start();
        }
    }
</code>
</pre>

<br>
<br>
    
The relationship of Car and Engine as follows. <br>

<img src="https://github.com/40843245/program_language/blob/main/attachment/figure/screenshot/as-is.png" alt="as-is relationship"><br>

------------------------------------------------------------------------------------------------------ <br>

While the following code does <b>NOT</b> use dependency injection. <br>

<p id="BAD">BAD</p>
    
<br>
<br>
    
<pre>
<code>
    class Car {
    
        private Engine engine = new Engine();
    
        public void start() {
            engine.start();
        }
    }
    
    
    class MyApp {
        public static void main(String[] args) {
            Car car = new Car();
            car.start();
        }
    }
    
</pre>
</code>
    
<br>
<br>

Now, the relationship of Car and Engine as follows. <br>

<img src="https://github.com/40843245/program_language/blob/main/attachment/figure/screenshot/in.png" alt="inner-outer relationship"><br>
    
<h2>Pro</h2>
The pro of dependency injection: <br>

<ol>
    <li>Reusability of code</li>  
    <li>Ease of refactoring</li>  
    <li>Ease of testing</li>  
</ol>

From the above example, image that you are a manufacturer of car. <br> 

You may hope that the engine can be detached from the car since one can detach the engine when the engine is broken, one does NOT have to get a new car.<br>

The core concept can also apply to code. <br>
------------------------------------------------------------------------------------------------------ <br>
------------------------------------------------------------------------------------------------------ <br>
    
Back to the above example (example 1). <br>

If the property engine of the class Car is initialized in the constructor with given paremeter Engine object. (See GOOD code in example 1) <br>
    
Dependency injection is used. <br> 

When the programmer write the class SUV and SportsCar which both are derived from the class Car, one does NOT have to create two class about engine. Only needs one. <br>

The mechanism helps one to reuse class. Additionally, it helps us to refactor the code. <br>
    
Thus, it is easier to maintain the code. <br>

It is nice to write code, isn't it? <br>

------------------------------------------------------------------------------------------------------ <br>
    
If dependency injection is <b>NOT</b> used, (See BAD code in example 1) <br> 

one has to create two class about engine for two different class SUV and SportsCar (which both are derived from the class Car). <br>

It is troublesome to maintain the code, isn't it? <br>

<h2>Ref</h2>
[1] <a href="https://en.wikipedia.org/wiki/Dependency_injection">Dependency injection in Wiki</a>

[2] <a href="https://developer.android.com/training/dependency-injection">Dependency injection in Android Studio</a>

</body>
</html>
